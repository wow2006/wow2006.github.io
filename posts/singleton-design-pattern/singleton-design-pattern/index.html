<!DOCTYPE html>
<html prefix="" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Implement Singletone">
<meta name="viewport" content="width=device-width">
<title>Singleton Design Pattern | Salt and Pepper</title>
<link href="../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../../../assets/css/screen.css">
<link rel="stylesheet" type="text/css" href="../../../assets/css/nav.css">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400%7CInconsolata">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="https://wow2006.github.io/posts/singleton-design-pattern/singleton-design-pattern/">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Ahmed Abdel Aal">
<link rel="prev" href="../../how-to-use-boost-program-options/how-to-use-boost-program-options/" title="How to use Boost program options" type="text/html">
<link rel="next" href="../../create-cuda-pitch-memory/" title="Create CUDA pitch memory" type="text/html">
<meta property="og:site_name" content="Salt and Pepper">
<meta property="og:title" content="Singleton Design Pattern">
<meta property="og:url" content="https://wow2006.github.io/posts/singleton-design-pattern/singleton-design-pattern/">
<meta property="og:description" content="Implement Singletone">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2019-11-19T17:33:51+02:00">
</head>
<body class="nav-closed">

<div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
<li class="nav-opened" role="presentation">
                <a href="../../../pages/projects/">Projects</a>
            </li>
            <li class="nav-opened" role="presentation">
                <a href="../../../pages/resume/">Resume</a>
            </li>
            <li class="nav-opened" role="presentation">
                <a href="../../../archive.html">Archive</a>
            </li>
            <li class="nav-opened" role="presentation">
                <a href="../../../categories/">Tags</a>
            </li>
    
    
    </ul>
</div>
<span class="nav-cover"></span>

<div class="site-wrapper">
    <header class="main-header post-head no-cover"><nav class="main-nav overlay clearfix"><a class="blog-logo" href="https://wow2006.github.io/"><img src="https://getnikola.com/assets/img/logo.svg" alt="Blog Logo"></a>
            <a class="menu-button" href="#"><span class="burger">☰</span><span class="word">Menu</span></a>
        </nav></header><main id="content" class="content" role="main"><article class="post post"><header class="post-header"><h1 class="post-title">Singleton Design Pattern</h1>
        <section class="post-meta"> by
            Ahmed Abdel Aal
            on
            <time class="post-date" datetime="2019-11-19T17:33:51+02:00">
                2019-11-19 17:33
            </time></section></header><section class="post-content"><div>
<h5>Content:</h5>
<ol>
<li><a href="#idea">Idea</a></li>
<li><a href="#uml">UML</a></li>
<li><a href="#simple-impl">Simple Implementation</a></li>
<li><a href="#other-impl">Other Implementation</a></li>
<li><a href="#other-impl">References</a></li>
</ol>
<h6>Idea:<a name="idea"></a>
</h6>
<p>I hate this design so I will start with it. Singleton is one of the structural patterns. It is responsible for creating just one instance of a class.</p>
<blockquote>
<p>Ensure a class only has one instance, and provide a global point of access to it.</p>
<p>Gang of four</p>
</blockquote>
<h6>UML:<a name="uml"></a>
</h6>
<h6>Simple Implementation:<a name="simple-impl"></a>
</h6>
<p>c++98 Implementation</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">Singleton</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">static</span> <span class="n">Singleton</span><span class="o">*</span> <span class="n">Instance</span><span class="p">();</span>
<span class="k">protected</span><span class="o">:</span>
  <span class="n">Singleton</span><span class="p">();</span>
<span class="k">private</span><span class="o">:</span>
  <span class="k">static</span> <span class="n">Singleton</span><span class="o">*</span> <span class="n">_instance</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">Singleton</span><span class="o">*</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">_instance</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="n">Singleton</span><span class="o">::</span><span class="n">Singleton</span><span class="p">()</span> <span class="p">{}</span>

<span class="n">Singleton</span><span class="o">*</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">Instance</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="n">_instance</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">_instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">_instance</span><span class="p">;</span>
<span class="p">}</span>
</pre>


<p>c++11 Implementation</p>
<pre class="code literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&lt;memory&gt;</span><span class="cp"></span>

<span class="k">class</span> <span class="nc">Singleton</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">static</span> <span class="n">Singleton</span><span class="o">*</span> <span class="n">Instance</span><span class="p">();</span>
  <span class="o">~</span><span class="n">Singleton</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
<span class="k">private</span><span class="o">:</span>
  <span class="n">Singleton</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
<span class="k">private</span><span class="o">:</span>
  <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Singleton</span><span class="o">&gt;</span> <span class="n">_instance</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Singleton</span><span class="o">&gt;</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">_instance</span><span class="p">;</span>

<span class="n">Singleton</span><span class="o">*</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">Instance</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">_instance</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">_instance</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Singleton</span><span class="o">&gt;</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">_instance</span><span class="p">.</span><span class="n">get</span><span class="p">();</span>
<span class="p">}</span>
</pre>


<h6>Other Implementation:<a name="other-impl"></a>
</h6>
<p>c++11 Implementation</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">Singleton</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">static</span> <span class="n">Singleton</span><span class="o">*</span> <span class="n">Instance</span><span class="p">();</span>

<span class="k">private</span><span class="o">:</span>
  <span class="n">Singleton</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>

<span class="p">};</span>

<span class="n">Singleton</span><span class="o">*</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">Instance</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">static</span> <span class="n">Singleton</span> <span class="n">sInstance</span><span class="p">;</span>
  <span class="k">return</span> <span class="o">&amp;</span><span class="n">sInstance</span><span class="p">;</span>
<span class="p">}</span>
</pre>


<h6>References:<a name="references"></a>
</h6>
<ul>
<li>Design Patterns: Elements of Reusable Object-Oriented Software (1994)</li>
<li>Design Patterns in Modern C++ - Dmitri Nesteruk</li>
<li>Head First: Design Patterns</li>
<li>Game Programming: Patterns</li>
<li><a href="https://www.youtube.com/watch?v=B3WWsKFePiM">Ep 2 Cost of Using Statics</a></li>
</ul>
</div>
    </section><footer class="post-footer"></footer></article></main><footer class="site-footer clearfix"><section class="poweredby">Contents © 2020         <a href="mailto:eng.ahmedhussein89@gmail.com">Ahmed Abdel Aal</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </section></footer>
</div>

    <script type="text/javascript" src="../../../assets/js/jquery.js"></script><script type="text/javascript" src="../../../assets/js/jquery.fitvids.js"></script><script type="text/javascript" src="../../../assets/js/index.js"></script>
</body>
</html>
